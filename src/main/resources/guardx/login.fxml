<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<VBox xmlns="http://javafx.com/javafx/11.0.1" 
      xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="guardx.LoginController"
      spacing="30" 
      alignment="CENTER"
      style="-fx-background-color: linear-gradient(to bottom right, #0f172a, #1e3a8a, #0f172a);"
      prefWidth="1360" 
      prefHeight="768">

    <!-- Header Section -->
    <VBox alignment="CENTER" spacing="15">
    <!-- Shield Icon -->
    <StackPane>
        <Circle radius="40" fill="#2563eb">
            <effect>
                <DropShadow radius="10" color="rgba(37,99,235,0.5)"/>
            </effect>
        </Circle>
        <ImageView fitWidth="32" fitHeight="32" preserveRatio="true">
            <Image url="@Icons/guard.png"/>
        </ImageView>
    </StackPane>
    
    <!-- GuardX Title -->
    <Text fill="white" style="-fx-font-size: 42; -fx-font-weight: bold;" text="GuardX"/>
    
    <!-- Subtitle -->
    <Text fill="#bfdbfe" style="-fx-font-size: 16;" text="Law Enforcement Management System"/>
    </VBox>

    <!-- Main Login Card -->
    <VBox style="-fx-background-color: white; -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 20, 0, 0, 5);"
          MaxWidth="600" MaxHeight="700">
        
        <!-- Tab Panel -->
        <TabPane fx:id="mainTabPane" tabClosingPolicy="UNAVAILABLE" 
                 style="-fx-background-radius: 20 20 0 0; -fx-border-radius: 20 20 0 0;">
            <tabs>
                <!-- Civilian Login Tab -->
                <Tab text="Civilian Login">
                    <VBox spacing="20">
                        <padding>
                            <Insets top="30" right="30" bottom="30" left="30"/>
                        </padding>
                        
                        <!-- Header -->
                        <VBox spacing="8" alignment="CENTER_LEFT">
                            <Label text="Civilian Portal" style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #1e293b;"/>
                            <Label text="Access your account to submit reports and track cases" 
                                   style="-fx-text-fill: #64748b; -fx-font-size: 14;"
                                   wrapText="true"/>
                        </VBox>
                        
                        <!-- Form -->
                        <VBox spacing="16">
                            <!-- Email Field -->
                            <VBox spacing="6">
                                <Label text="Email" style="-fx-text-fill: #374151; -fx-font-size: 14; -fx-font-weight: bold;"/>
                                <TextField fx:id="civilianEmail" 
                                          promptText="your.email@example.com"
                                          style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-padding: 12; -fx-font-size: 14;"/>
                            </VBox>
                            
                            <!-- Password Field -->
                            <VBox spacing="6">
                                <Label text="Password" style="-fx-text-fill: #374151; -fx-font-size: 14; -fx-font-weight: bold;"/>
                                <PasswordField fx:id="civilianPassword" 
                                              promptText="••••••••"
                                              style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-padding: 12; -fx-font-size: 14;"/>
                            </VBox>
                            
                            <!-- Forgot Password -->
                            <HBox alignment="CENTER_RIGHT">
                                <Hyperlink text="Forgot Password?" 
                                          onAction="#handleForgotPassword"
                                          style="-fx-text-fill: #2563eb; -fx-font-size: 13; -fx-border-color: transparent;"/>
                            </HBox>
                            
                            <!-- Login Button -->
                            <Button fx:id="civilianLoginBtn" 
                                   text="Login" 
                                   onAction="#handleCivilianLogin"
                                   style="-fx-background-color: #2563eb; -fx-text-fill: white; -fx-font-size: 16; -fx-font-weight: bold; -fx-background-radius: 10; -fx-padding: 12;"
                                   maxWidth="Infinity"/>
                            
                            <!-- Register Link -->
                            <HBox alignment="CENTER" spacing="4" style="-fx-padding: 8 0 0 0;">
                                <Label text="Don't have an account?" style="-fx-text-fill: #6b7280; -fx-font-size: 14;"/>
                                <Hyperlink text="Register" 
                                          onAction="#showRegisterForm"
                                          style="-fx-text-fill: #2563eb; -fx-font-size: 14; -fx-font-weight: bold; -fx-border-color: transparent;"/>
                            </HBox>
                        </VBox>
                    </VBox>
                </Tab>

                <!-- Officer Login Tab -->
                <Tab text="Officer Login">
                    <VBox spacing="20">
                        <padding>
                            <Insets top="30" right="30" bottom="30" left="30"/>
                        </padding>
                        
                        <!-- Header -->
                        <VBox spacing="8" alignment="CENTER_LEFT">
                            <Label text="Officer Portal" style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #1e293b;"/>
                            <Label text="Authorized personnel access only" 
                                   style="-fx-text-fill: #64748b; -fx-font-size: 14;"
                                   wrapText="true"/>
                        </VBox>
                        
                        <!-- Form -->
                        <VBox spacing="16">
                            <!-- Email Field -->
                            <VBox spacing="6">
                                <Label text="Officer ID / Email" style="-fx-text-fill: #374151; -fx-font-size: 14; -fx-font-weight: bold;"/>
                                <TextField fx:id="officerEmail" 
                                          promptText="officer.id@police.gov"
                                          style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-padding: 12; -fx-font-size: 14;"/>
                            </VBox>
                            
                            <!-- Password Field -->
                            <VBox spacing="6">
                                <Label text="Password" style="-fx-text-fill: #374151; -fx-font-size: 14; -fx-font-weight: bold;"/>
                                <PasswordField fx:id="officerPassword" 
                                              promptText="••••••••"
                                              style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-padding: 12; -fx-font-size: 14;"/>
                            </VBox>
                            
                            <!-- Forgot Password -->
                            <HBox alignment="CENTER_RIGHT">
                                <Hyperlink text="Forgot Password?" 
                                          onAction="#handleForgotPassword"
                                          style="-fx-text-fill: #2563eb; -fx-font-size: 13; -fx-border-color: transparent;"/>
                            </HBox>
                            
                            <!-- Login Button -->
                            <Button fx:id="officerLoginBtn" 
                                   text="Login" 
                                   onAction="#handleOfficerLogin"
                                   style="-fx-background-color: #2563eb; -fx-text-fill: white; -fx-font-size: 16; -fx-font-weight: bold; -fx-background-radius: 10; -fx-padding: 12;"
                                   maxWidth="Infinity"/>
                        </VBox>
                    </VBox>
                </Tab>
            </tabs>
        </TabPane>
    </VBox>
</VBox>